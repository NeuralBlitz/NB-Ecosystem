<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- 
    GoldenDAG: c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2
    UAID: NBX-DGM-DATA-FLOW-v14.0
    Description: This SVG file is the canonical visualization of the detailed data and control flow
                 for the NeuralBlitz UEF/SIMI v14.0 framework. It was rendered from its
                 Mermaid source by the Curator and GlyphNet Renderer.
-->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1200" height="950" viewBox="0 0 1200 950">
    <defs>
        <style type="text/css">
            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');
            .participant-box { fill: #e3f1ff; stroke: #66aaff; stroke-width: 1.5; }
            .participant-text { font-family: 'Roboto', sans-serif; font-size: 12px; font-weight: 700; text-anchor: middle; }
            .participant-subtext { font-family: 'Roboto', sans-serif; font-size: 10px; text-anchor: middle; fill: #444; }
            .lifeline { stroke: #99ccff; stroke-width: 1; }
            .message-arrow { stroke: #333; stroke-width: 1.5; }
            .message-arrow-dashed { stroke: #333; stroke-width: 1.5; stroke-dasharray: 5, 5; }
            .message-text { font-family: 'Roboto', sans-serif; font-size: 11px; text-anchor: middle; fill: #000; }
            .activation-box { fill: #cfe8ff; stroke: #99ccff; stroke-width: 1; }
            .alt-frame { fill: none; stroke: #666; stroke-width: 1; stroke-dasharray: 3, 3; }
            .alt-text { font-family: 'Roboto', sans-serif; font-size: 12px; font-weight: bold; fill: #333; }
        </style>
        <marker id="arrowhead" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
        </marker>
    </defs>

    <rect x="0" y="0" width="1200" height="950" fill="#ffffff"/>

    <!-- Participants & Lifelines -->
    <g id="participants">
        <!-- User -->
        <text x="50" y="45" class="participant-text">User</text>
        <line x1="50" y1="60" x2="50" y2="900" class="lifeline"/>

        <!-- HALIC -->
        <rect x="110" y="30" width="140" height="40" rx="5" class="participant-box"/>
        <text x="180" y="45" class="participant-text">HALIC v4.0</text>
        <text x="180" y="58" class="participant-subtext">(Interface Layer)</text>
        <line x1="180" y1="70" x2="180" y2="900" class="lifeline"/>

        <!-- GOV_IN -->
        <rect x="270" y="30" width="140" height="40" rx="5" class="participant-box"/>
        <text x="340" y="45" class="participant-text">SentiaGuard (S-IN)</text>
        <text x="340" y="58" class="participant-subtext">(Governance Mesh)</text>
        <line x1="340" y1="70" x2="340" y2="900" class="lifeline"/>

        <!-- SynE -->
        <rect x="430" y="30" width="140" height="40" rx="5" class="participant-box"/>
        <text x="500" y="45" class="participant-text">Synergy Engine v5.1</text>
        <text x="500" y="58" class="participant-subtext">(Orchestration)</text>
        <line x1="500" y1="70" x2="500" y2="900" class="lifeline"/>
        
        <!-- OQT_BOS/CKs (Combined for visual simplicity) -->
        <rect x="590" y="30" width="140" height="40" rx="5" class="participant-box"/>
        <text x="660" y="45" class="participant-text">Execution Logic</text>
        <text x="660" y="58" class="participant-subtext">(OQT-BOS / CKs)</text>
        <line x1="660" y1="70" x2="660" y2="900" class="lifeline"/>

        <!-- UNE -->
        <rect x="750" y="30" width="140" height="40" rx="5" class="participant-box"/>
        <text x="820" y="45" class="participant-text">UNE v6.1-Causal</text>
        <text x="820" y="58" class="participant-subtext">(Cognitive Engine)</text>
        <line x1="820" y1="70" x2="820" y2="900" class="lifeline"/>
        
        <!-- DRS -->
        <rect x="910" y="30" width="140" height="40" rx="5" class="participant-box"/>
        <text x="980" y="45" class="participant-text">DRS Engine v4.0</text>
        <text x="980" y="58" class="participant-subtext">(Memory Substrate)</text>
        <line x1="980" y1="70" x2="980" y2="900" class="lifeline"/>
        
        <!-- GOV_AUDIT / GOV_OUT (Combined for visual simplicity) -->
        <rect x="1070" y="30" width="120" height="40" rx="5" class="participant-box"/>
        <text x="1130" y="45" class="participant-text">Governance</text>
        <text x="1130" y="58" class="participant-subtext">(Audit & S-OUT)</text>
        <line x1="1130" y1="70" x2="1130" y2="900" class="lifeline"/>
    </g>

    <!-- Messages & Activations -->
    <g id="messages">
        <!-- 1. User -> HALIC -->
        <line x1="55" y1="100" x2="175" y2="100" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="115" y="95" class="message-text">Submits NBCL Command</text>
        <rect x="175" y="100" width="10" height="740" class="activation-box"/>

        <!-- 2. HALIC -> GOV_IN -->
        <line x1="185" y1="140" x2="335" y2="140" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="260" y="135" class="message-text">Route for S-IN Scan</text>
        <rect x="335" y="140" width="10" height="50" class="activation-box"/>

        <!-- 3. GOV_IN -> HALIC -->
        <line x1="335" y1="180" x2="185" y2="180" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="260" y="175" class="message-text">Return Sanitized Intent</text>

        <!-- 4. HALIC -> SynE -->
        <line x1="185" y1="220" x2="495" y2="220" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="340" y="215" class="message-text">Dispatch Parsed Command</text>
        <rect x="495" y="220" width="10" height="540" class="activation-box"/>

        <!-- Alt Frame -->
        <rect x="420" y="240" width="580" height="380" class="alt-frame"/>
        <text x="430" y="255" class="alt-text">[alt] Standard Command Path</text>
        
        <!-- 5. Alt: SynE -> CKs -->
        <line x1="505" y1="280" x2="655" y2="280" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="580" y="275" class="message-text">Invoke CK(s)</text>
        <rect x="655" y="280" width="10" height="130" class="activation-box"/>

        <!-- 6. Alt: CKs -> DRS -->
        <line x1="665" y1="320" x2="975" y2="320" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="820" y="315" class="message-text">Read/Write Symbolic State</text>
        <rect x="975" y="320" width="10" height="50" class="activation-box"/>

        <!-- 7. Alt: DRS -> CKs -->
        <line x1="975" y1="360" x2="665" y2="360" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="820" y="355" class="message-text">Return State</text>
        
        <!-- 8. Alt: CKs -> SynE -->
        <line x1="655" y1="400" x2="505" y2="400" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="580" y="395" class="message-text">Return Result Payload</text>

        <!-- Else separator -->
        <line x1="420" y1="430" x2="1000" y2="430" style="stroke:#666; stroke-width:1; stroke-dasharray: 3, 3;"/>
        <text x="430" y="445" class="alt-text">[else] OQT-BOS Command Path</text>
        
        <!-- 9. Else: SynE -> OQT_BOS -->
        <line x1="505" y1="470" x2="655" y2="470" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="580" y="465" class="message-text">Dispatch to OQT-BOS</text>
        <rect x="655" y="470" width="10" height="130" class="activation-box"/>

        <!-- 10. Else: OQT_BOS -> UNE -->
        <line x1="665" y1="510" x2="815" y2="510" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="740" y="505" class="message-text">Request Topological Op</text>
        <rect x="815" y="510" width="10" height="90" class="activation-box"/>
        
        <!-- 11. Else: UNE -> DRS -->
        <line x1="825" y1="550" x2="975" y2="550" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="900" y="545" class="message-text">Access Onton/Braid Data</text>
        <rect x="975" y="550" width="10" height="50" class="activation-box"/>
        
        <!-- 12. Else: DRS -> UNE -->
        <line x1="975" y1="590" x2="825" y2="590" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="900" y="585" class="message-text">Return Data</text>

        <!-- 13. OQT_BOS -> SynE -->
        <line x1="655" y1="630" x2="505" y2="630" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="580" y="625" class="message-text">Return OQT-BOS Result</text>

        <!-- 14. SynE -> GOV_AUDIT -->
        <line x1="505" y1="680" x2="1125" y2="680" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="815" y="675" class="message-text">Log Operation to GoldenDAG Chain</text>
        <rect x="1125" y="680" width="10" height="50" class="activation-box"/>

        <!-- 15. GOV_AUDIT -> SynE -->
        <line x1="1125" y1="720" x2="505" y2="720" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="815" y="715" class="message-text">Return Integrity Receipt (Hash)</text>
        
        <!-- 16. SynE -> GOV_OUT -->
        <line x1="505" y1="760" x2="1125" y2="760" class="message-arrow" marker-end="url(#arrowhead)"/>
        <text x="815" y="755" class="message-text">Route Final Response for S-OUT Scan</text>
        <rect x="1125" y="760" width="10" height="50" class="activation-box"/>

        <!-- 17. GOV_OUT -> SynE -->
        <line x1="1125" y1="800" x2="505" y2="800" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="815" y="795" class="message-text">Return Approved/Redacted Response</text>

        <!-- 18. SynE -> HALIC -->
        <line x1="495" y1="840" x2="185" y2="840" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="340" y="835" class="message-text">Send Final Formatted Response</text>

        <!-- 19. HALIC -> User -->
        <line x1="175" y1="880" x2="55" y2="880" class="message-arrow-dashed" marker-end="url(#arrowhead)"/>
        <text x="115" y="875" class="message-text">Deliver Final Output + GoldenDAG Receipt</text>

    </g>
</svg>